{% extends "layout.html" %}
{% block body %}
<div class="container">
    <h2>User Profile</h2>
    <table>
        <tr><td><b>Username &nbsp;</b></td><td> {{ username }}</td></tr>
        <tr><td><b>Email &nbsp;</b></td><td> {{ email }}</td></tr>
        <tr><td><b>Address &nbsp;</b></td><td> {{ address }}</td></tr>
        <tr><td><b>Phone Number &nbsp;</b></td><td> {{ phone_number }}</td></tr>
    </table>

    <br>
    <h3> Policies: </h3>
    <table class="policy_table">
      <thead>
        <th>Policy UID</th>
        <th>Location</th>
        <th>Action</th>
      </thead>
      {% for p in policies %}
        <tr>
            <td class="uid"> {{ p['uid'] }} </td> 
            <td class="location"> {{ p['location'] }} </td> 
            <td><button type="button" class="btn btn-primary delete_policy">Delete</button></td>
        </tr>
      {% endfor %}
    </table>
</div>
  
{% endblock %}
{% block script %}
{{ super() }}
<script src="{{url_for('static', filename='js/about.js')}}"></script>
<script src="{{url_for('static', filename='js/dashboard.js')}}"></script>
<script>
  if(window.location.pathname.indexOf("level") != -1) {
    var REGISTER_URL = "{{ config['HOST_NAME'] }}" + '/api/register';
    var POLICY_URL = "{{ config['HOST_NAME'] }}" + '/api/policy';
    var POLICY_DECISION_URL = "{{ config['HOST_NAME'] }}" + '/api/policy_decision';
    var ATTRIBUTE_AUTH_URL = "{{ config['HOST_NAME'] }}" + '/api/policy_attribute_auth'
    var POLICY_DELETION_URL = "{{ config['HOST_NAME'] }}" + '/api/delete_policy';
    var JWT_API = "{{ config['HOST_NAME'] }}" + '/api/jwt';
    var SEARCH_API = "{{ config['HOST_NAME'] }}" + '/api/search';
    var DELETE_API = "{{ config['HOST_NAME'] }}" + '/api/delete';
    var RELOCATE_API = "{{ config['HOST_NAME'] }}" + '/api/relocate';
    var SCRIPT_API = "{{ config['HOST_NAME'] }}" + '/api/custom_query';
  }
</script>
{% endblock script%}